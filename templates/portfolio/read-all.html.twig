{% extends "base.html.twig" %}

{% block stylesheets %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
<style>
    body{
        background-color: rgb(234, 234, 234);
        margin: 0 auto;
    }

    .navbar{
        background-color: rgb(0, 149, 213);
        opacity: 0.8;
        width: 100%;
    }

    nav a{
        float: right;
        color: white;
        text-decoration: none;
        margin-right: 3em;
    }

    h1{
        color: white;
    }

    .mb-3{
        color: white;
        margin-left: 2em;
        margin-top: 1em;
    }
    
    table{
        margin: 0 auto;
        margin-top: 2em;
    }

    table thead{
        font-weight: bold;
    }

    table td{
        padding: 0.2em;
    }

    #retourAccueil{
        margin-top: 2em;
    }

    #voirCompetences a{
        color: white;
        text-decoration: none;
    }

    #voirCompetences{
        margin-top: 2em;
        margin-left: 50em;
    }

    #retourAccueil a{
        color: white;
        text-decoration: none;
    }

    footer{
        width: 100%;
        margin-top: 33em;
        padding: 1em;
        color: white;
        background-color:rgb(0, 149, 213);
    }

    footer i{
        font-size: 30px;
        float: right;
        padding-right: 1em;
        color : white;
        text-decoration: none;
    }
</style>
{% endblock %}

{% block body %}
    <header>
        <nav class="navbar">
            {% if app.user %}
                <div class="mb-3">
                    {{ app.user.username }}
                </div>
            {% endif %}
            <h1>Admin</h1>
            <a href="logout">Déconnexion</a>
        </nav>
    </header>
    <table class="table-secondary">
        <thead>
            <tr>
                <td>Nom</td>
                <td>Prénom</td>
                <td>E-mail</td>
                <td>Message</td>
            </tr>
        </thead>
        <tbody>
        {% for contact in liste %}
            <tr>
                <td>{{ contact.nom }}</td>
                <td>{{ contact.prenom }}</td>
                <td>{{ contact.email }}</td>
                <td>{{ contact.message }}</td>
                <td><button class="btn btn-light"><a href="read/{{contact.id}}"><i class="far fa-eye" id="eye"></i></a></button></td>
                <td><button class="btn btn-light"><a href="edit/{{contact.id}}"><i class="fas fa-pencil-alt" id="pencil"></i></a></button></td>
                <td><button class="btn btn-light"><a href="delete/{{contact.id}}"><i class="fas fa-trash" id="trash"></i></button></a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <button type="submit" class="btn btn-primary" id="voirCompetences"><a href="/read-all-competences">Voir les competences</a></button>
    <button type="submit" class="btn btn-primary" id="retourAccueil"><a href="/read-all-projet">Voir les projets</a></button>
    <footer>
        &copy; 2021, Charly Delaize
    </footer>
{% endblock %}
